version: '3.8'

services:
  minio-anomaly-detector:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: minio-anomaly-detector
    restart: unless-stopped
    networks:
      - monitoring
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

networks:
  monitoring:
    driver: bridge

# USAGE:
# 1. Edit anomaly_detector_hardcoded.py - Update these values at the top:
#    - DISCORD_WEBHOOK
#    - OPENWEBUI_API_KEY
#    - PROMETHEUS_URL (if different from default)
#
# 2. Run:
#    docker-compose -f docker-compose.hardcoded.yml up -d
#
# 3. Monitor:
#    docker logs -f minio-anomaly-detector
#
# NO .env FILE NEEDED - All config in the Python script!
